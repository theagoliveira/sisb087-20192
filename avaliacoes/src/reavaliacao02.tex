\documentclass[a4paper,10pt]{article}

\input{packages.tex}
\input{configs.tex}

\title{Reavaliação AB2}

\begin{document}

\maketitle

\emergencystretch 3em

\input{recommendations.tex}

NOME: \rule{.85\textwidth}{0.1mm}

\begin{multicols*}{2}
\setlength{\leftmargini}{0pt}
\begin{enumerate}
  \item (3,5 pt $\rightarrow$ 7 x 0,5 pt) Preencha os espaços a seguir.

  \begin{enumerate}
    \item A função \rule{1cm}{0.2mm} escreve uma string em um arquivo. % fputs
    % \item A função \rule{1cm}{0.2mm} é usada na liberação da memória alocada dinamicamente para um elemento de uma lista encadeada. % free
    \item Um elemento de uma lista encadeada é definido com uma \rule{1cm}{0.2mm}. % struct
    % \item A função \rule{1cm}{0.2mm} move a posição atual de leitura/escrita no arquivo para o início. % rewind
    % \item A função \rule{1cm}{0.2mm} escreve um caractere em um arquivo. % fputc
    % \item A função \rule{1cm}{0.2mm} lê uma string de um arquivo. % fgets
    % \item A função \rule{1cm}{0.2mm} lê dados de um arquivo da mesma forma que a função \texttt{scanf} lê do teclado. % fscanf
    \item A função \rule{1cm}{0.2mm} move a posição atual de leitura/escrita no arquivo para um ponto específico. % fseek
    % \item A função \rule{1cm}{0.2mm} fecha um arquivo. % fclose
    \item A função \rule{1cm}{0.2mm} exclui um arquivo. % remove
    % \item A função \rule{1cm}{0.2mm} é usada para alocar dinamicamente um novo elemento de uma lista encadeada. % malloc
    \item Um elemento de uma lista encadeada guarda informações e um \rule{1cm}{0.2mm} para o próximo elemento da lista. % ponteiro
    % \item A função \rule{1cm}{0.2mm} geralmente é usada para escrever blocos de bytes em um arquivo binário. % fwrite
    % \item A função \rule{1cm}{0.2mm} abre um arquivo. % fopen
    \item A função \rule{1cm}{0.2mm} lê um caractere de um arquivo. % fgetc
    \item A função \rule{1cm}{0.2mm} normalmente é usada quando se lê blocos de bytes de um arquivo binário. % fread
  \end{enumerate}

  \item (2,1 pt $\rightarrow$ 3 x 0,7 pt) Verdadeiro ou falso. Justifique sua resposta para afirmações falsas.

  \begin{enumerate}
    \item Se a posição atual de leitura/escrita no arquivo não estiver no início, o arquivo precisa ser fechado e reaberto para que a leitura possa ser feita a partir do início. % Falso. As funções rewind/fseek podem ser usadas para mover a posição para o início.
    \item A função \texttt{fprintf} não pode imprimir os dados na tela. % Falso. Pode ser usada para ler dados do teclado usando o ponteiro para o arquivo stdout.
    \item A função \texttt{fscanf} pode ser usada para ler dados do teclado. % Verdadeiro.
    % \item A função \texttt{fseek} só pode fazer a busca a partir do início de um arquivo. % Falso. Pode fazer a busca a partir do início, do fim ou da posição atual.
  \end{enumerate}

  \item (2,0 pt $\rightarrow$ 2 x 1,0 pt) Escreva o código para completar as tarefas a seguir:
  % FILE* arq1;
  % FILE* arq2;
  %
  % arq1 = fopen("arquivo1.txt", "r+");
  % arq2 = fopen("arquivo2.txt", "wb");
  %
  % fputs(sigla_ufal, arq1);

  \begin{minted}{c}
#include <stdio.h>

int main () {
  char sigla_ufal[5] = "UFAL";
  // << SEU CÓDIGO ENTRA AQUI >>
  fclose(arq1);
  fclose(arq2);
}
  \end{minted}

  \begin{enumerate}
    \item Abra um arquivo chamado \texttt{"arquivo1.txt"}, em uma variável chamada \texttt{arq1}, no modo de leitura e escrita, assumindo que o arquivo já existe e pode ser modificado. Escreva a string \texttt{sigla\_ufal} no arquivo.
    \item Abra um arquivo chamado \texttt{arquivo2.txt}, em uma variável chamada \texttt{arq2}, no modo de escrita em arquivo binário, de forma que o arquivo seja criado, caso não exista, ou apagado e escrito por cima, caso já exista.
    % \item Abra um arquivo chamado \texttt{"arquivo2.txt"}, em uma variável chamada \texttt{arq2}, no modo de escrita, de forma que os dados sejam adicionados ao final do arquivo. Escreva no arquivo, com a função \texttt{fprintf}, a string \texttt{"int"} seguida de um espaço e o tamanho em bytes de um inteiro. Use a função \texttt{sizeof} para obter esse tamanho.
  \end{enumerate}

  \vfill\null
  \columnbreak

  \item (2,4 pt) Escreva o código necessário para responder as questões sobre listas encadeadas a seguir:

  \begin{enumerate}
    \item (0,4 pt) Escreva a definição para a estrutura de um elemento de uma lista encadeada que armazena um número inteiro no seu campo de dados. Defina também um sinônimo para o nome dessa estrutura.
    \item (0,5 pt) Escreva uma função que cria uma nova lista encadeada.
    \item (0,7 pt) Escreva uma função que imprime o conteúdo da lista definida na letra (a).
    \item (0,8 pt) Assumindo que todas as funções básicas de listas encadeadas estão implementadas, leia o código abaixo e escreva o que vai ser impresso na tela com a execução do programa.

    \begin{minted}{c}
#include <stdio.h>
#include <stdlib.h>

int main () {
  int i;
  Lista* lst;

  lst = cria_lista();

  for(i = 10; i >= 1; i--) {
    lst = insere_lista(lst, i);
  }
  imprime_lista(lst);

  for(i = 1; i <= 10; i++) {
    if (i % 2 == 0) {
      lst = remove_lista(lst, i);
    }
  }
  imprime_lista(lst);

  lst = insere_lista_ordenada(lst, 4);
  imprime_lista(lst);
}
    \end{minted}
    % 1 2 3 4 5 6 7 8 9 10
    % 1 3 5 7
    % 1 3 4 5 7
  \end{enumerate}
\end{enumerate}
\end{multicols*}
\end{document}
